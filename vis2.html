<html>
  <head>
    <meta charset="utf-8">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script type="text/javascript" src="js/tabletop1.3.4.js"></script>
    <script type="text/javascript" src='js/sheetsee.js'></script>
    <link rel="stylesheet" type="text/css" href="css/sss.css">
    <link rel="stylesheet" type="text/css" href="css/main2.css">
    
  </head>
  <body>

    <h1>Ethics workshop responses visualization lets c2</h1>

    <div id="pieChart"></div>


    <script id="placeholder_template" type="text/html">
      <table>
        <tr><th class="tHeader">Timestamp</th><th class="tHeader">Name</th><th class="tHeader">Profession</th><th class="tHeader">Company & Designation</th><th class="tHeader">Email ID</th></tr>
      {{#rows}}
        <tr><td>{{timestamp}}</td><td>{{name}}</td><td>{{profession}}</td><td>{{company&amp;designation}}</td><td>{{emailid}}</td></tr>
      {{/rows}}
      </table>
    </script>

    <script type="text/javascript">
      document.addEventListener('DOMContentLoaded', function() {
          var URL = "https://docs.google.com/spreadsheets/d/1ajmMXaVZfrcvbhpglfMZltdG-y2AzYh51zNCoICJvTw/pubhtml"
          Tabletop.init( { key: URL, callback: showInfo, simpleSheet: true } )
      })

      function showInfo(data) {

          gData = data

          var feedback = Sheetsee.getOccurance(gData, "feedback")
          var fColors = ["#ff00ff", "#DCF13C"]

          var piedata1 = Sheetsee.makeColorArrayOfObjects(feedback,fColors)
          /*
          var pie1 = getMatches(gData, "yes", "feedback")
          var pie2 = getMatches(gData, "no", "feedback")


          var piedata1 = [{"label": "yes", "units": getOccurance(pie1,"feedback") },{"label": "no", "units": getOccurance(pie2,"feedback") }]

          */
          var pieOptions = {m: [80, 80, 80, 80], w: 600, h: 400, div: "pieChart", hiColor: "#14ECC8"}


      Sheetsee.d3PieChart(piedata1, pieOptions)
      
    }
      

    </script>
  </body>
</html>

